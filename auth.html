<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="firebaseConfig.js"></script>


    <title>Document</title>
</head>
<body>
    <h1>this is a firebase oauth extravaganza!</h1>
    <!-- Insert these scripts at the bottom of the HTML, but before you use any Firebase services -->

  <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/7.10.0/firebase-app.js"></script>

  <!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
  <script src="https://www.gstatic.com/firebasejs/7.10.0/firebase-analytics.js"></script>

  <!-- Add Firebase products that you want to use -->
  <script src="https://www.gstatic.com/firebasejs/7.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.10.0/firebase-firestore.js"></script>
  <script>
      const config = {
        apiKey: "AIzaSyA4aNSHB21tyEqWJA7LYHet658ZDcdV5rM",
        authDomain: "this-is-junk.firebaseapp.com",
        databaseURL: "https://this-is-junk.firebaseio.com",
        projectId: "this-is-junk",
        storageBucket: "this-is-junk.appspot.com",
        messagingSenderId: "445385097267",
        appId: "1:445385097267:web:ae648c332c3c1e0c666346",
        measurementId: "G-7CN044RZBN"
    };

    // Initialize Firebase
    firebase.initializeApp(config);
    
    googleProvider = new firebase.auth.GoogleAuthProvider();
    console.log('working html', googleProvider)

    firebase.auth().signInWithRedirect(googleProvider)

    firebase.auth().getRedirectResult().then(result => {
        if(result.credential){
            let token = result.credential.accessToken;
        }
        let userInfo = result.user
        console.log('userInfo',userInfo)
        }).catch(function(error) {
        // Handle Errors here.
        console.error(error)
        let errorCode = error.code;
        let errorMessage = error.message;
        // The email of the user's account used.
        let email = error.email;
        // The firebase.auth.AuthCredential type that was used.
        let credential = error.credential;
        // ...
        });
  </script>
  
</body>
</html>
